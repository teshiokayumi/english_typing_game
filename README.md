# 中学生向けタイピングゲーム「English typing game」

JSONデータソースを活用した、ウェブベースの英語タイピングゲームです。
<img width="1920" height="878" alt="Junior-High-Typing-English-Master-02-12-2026_12_15_PM" src="https://github.com/user-attachments/assets/09716e82-835f-4679-9c28-e5c21222a5ab" />
本システムは、JavaScriptによる動的なデータ取得、リアルタイムの入力検証、およびCSSを用いた直感的なユーザーフィードバックを特徴としています。
ユーザーはプリセットされた学年別の単語セット、またはカスタムURLから取得した独自の単語リストを使用して学習を行うことができます。
主要な機能には、入力精度の可視化、クリアタイムの自動計測、およびエラーハンドリングを含む堅牢なデータバリデーションが含まれています。

### システムアーキテクチャ
本システムは、フロントエンド技術のみで構成された軽量なシングルページアプリケーション（SPA）である。
• プログラム制御（main.js）: ゲームロジック、イベントリスニング、外部データ（JSON）のフェッチおよびバリデーションを担当する。
• スタイリングと演出（style.css）: CSS変数を用いたテーマ管理、およびFlexboxによるレスポンシブなレイアウトを提供し、ゲームの状態（プレイ中、終了時）に応じた視覚効果を付与する。
• データ構造（JSON）: word（英単語）とjapanese（日本語訳）のペアを持つオブジェクトの配列としてデータを管理する。

### 主要機能とメカニクス
ゲームのコアサイクルは、以下の技術的ステップによって実行される。
##### 1. データ取得とセットアップ
• 学年別ロード: 複数の「学年ボタン（Grade Buttons）」が用意されており、クリックすることで特定のURLからJSONデータを取得する。
• カスタムURL入力: ユーザーが独自のJSONデータソースを指定できる入力フィールドが実装されている。
• 検証（Validation）: 取得したデータが配列であるか、および各要素が適切な文字列型のプロパティ（word, japanese）を保持しているかを、validateData関数が厳密にチェックする。
##### 2. ゲームプレイ・ロジック
• 単語のランダム抽出: ロードされたリストから、Math.random()を用いて次の問題が選出される。
• リアルタイム入力判定: window.addEventListener('keydown', ...)により、ユーザーのキー入力と現在の文字（loc変数で管理）を比較する。
• 動的な表示更新: 入力済みの文字には.typedクラスが付与され、未入力の文字と視覚的に区別される。これは<span>要素を動的に生成・操作することで実現されている。
##### 3. パフォーマンス計測
• 時間計測: Date.now()を使用して開始時刻と終了時刻の差分を算出し、秒単位（小数点以下2桁）でクリアタイムを表示する。
• リトライ機能: ゲーム終了後、ボタンは「RETRY」表記に変わり、シームレスな再試行が可能となる。

### ユーザーインターフェース設計
| 要素          | 仕様・特徴                                                           |
| ----------- | --------------------------------------------------------------- |
| **カラーパレット** | 背景：`#000000`（黒）<br>テキスト：`#FFFFFF`（白）<br>アクセントカラー：`#4facfe`（青）   |
| **フォント**    | メインフォント：`Inter`（サンセリフ体）<br>タイピング対象文字：`JetBrains Mono`（等幅フォント）   |
| **状態演出**    | プレイ中は設定メニューを非表示（`opacity: 0`）<br>終了時はフォーカスエリアにパルス（脈動）アニメーションを適用 |
| **エラー表示**   | データ読み込み失敗時、日本語表示エリアを `#ff4d4d`（赤）に変更し警告メッセージを表示                 |

### データ構成（収録英単語の分類）
提供されるソースコンテキストには、難易度やテーマに応じた3つの主要なデータセットが含まれている。
##### 中１セット（words.json）
日常生活や学校生活に関連する基本的な単語群。
• 学校・家庭: school, teacher, family, mother, friend
• 日常動作: study, play, watch, listen, read
• 基本形容詞: happy, beautiful, difficult, popular
##### 中２セット（words2.json）
社会、自然、抽象的な概念を含む、より長い綴りの単語群。
• 社会・施設: hospital, museum, restaurant, technology
• 自然・環境: environment, island, mountain, space
• 動詞・副詞: believe, remember, understand, suddenly
##### 中３セット（words3.json）
国際的な話題、学術的・論理的な概念、および複雑な接続詞を含む単語群。
• 概念・専門性: information, government, education, vocabulary
• 動作・変化: improve, develop, discover, influence
• 論理・副詞: international, successfully, however, therefore

### 技術的な制約と安全性
• 入力の厳密性: キーボードイベントのe.keyが、単語内の現在のインデックスにある文字と完全に一致する場合のみ進行が許可される。
• 非同期処理: データの読み込みにはasync/awaitが使用されており、ネットワークエラーやJSONのパース失敗に対する例外処理（try...catch）が組み込まれている。
• 多重実行の防止: isPlayingフラグにより、ゲーム進行中の重複した開始処理やデータロードが制限されている。

## License
This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

